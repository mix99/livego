<!DOCTYPE html>
<html>
  <head>
    <title>Home</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link href="resources/css/jquery-ui-themes.css" type="text/css" rel="stylesheet"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/home/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-1.7.1.min.js"></script>
    <script src="resources/scripts/jquery-ui-1.8.10.custom.min.js"></script>
    <script src="resources/scripts/prototypePre.js"></script>
    <script src="data/document.js"></script>
<!--    <script src="resources/scripts/prototypePost.js"></script>-->
    <script src="files/home/data.js"></script>
    <script src="https://js.stripe.com/v3/"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />

    <script type="text/javascript">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };

      var stripe = Stripe('pk_test_TYooMQauvdEDq54NiTphI7jx');

      function voucherClick(tag) {
        var detailPStr = "";
        switch (tag) {
          case 0:
            detailPStr = "You get a 10% off discount voucher! You can use it to purchase 1000 Diamonds with just $9.";
            break;
          case 1:
            detailPStr = "You get a 15% off discount voucher! You can use it to purchase 2000 Diamonds with just $17.";
            break;
          case 2:
            detailPStr = "You get a 20% off discount voucher! You can use it to purchase 5000 Diamonds with just $40.";
            break;
          case 3:
            detailPStr = "You get a 25% off discount voucher! You can use it to purchase 10000 Diamonds with just $75.";
            break;
          case 4:
            detailPStr = "You get a 30% off discount voucher! You can use it to purchase 20000 Diamonds with just $140.";
            break;
        }
        $("#detailP").html(detailPStr);
        // $("#detailD").html("<button class='purchaseButton' id='detailB' onclick='purchase("+tag+")'>Continue</button>");
        $("#detailD").html("<button class='purchaseButton' id='detailB' onclick='purchase("+tag+")'>Continue</button>");
        $("#myModal").modal({
          fadeDuration: 100
        });
      }
      
      function purchase(tag) {
        var cardNum = 0;
        switch (tag) {
          case 0:
            break;
          case 1:
            break;
          case 2:
            break;
          case 3:
            break;
          case 4:
            break;
        }
        purchaseAction(cardNum);
      }

      function purchaseAction(num) {
        stripe.createPaymentMethod({
          type: 'card',
          card: num,
        }).then(function(result) {
          // Handle result.error or result.paymentIntent
        });
      }



      // async purchase() {
      //   const { data, msg, status } = await Server.StripePayInit({
      //     productId: this.curProduct.productId
      //   });
      //   if (status === 0) {
      //     let secretID = data;
      //     stripe
      //             .confirmCardPayment(secretID, {
      //               payment_method: { card: cardNumber }
      //             })
      //             .then(result => {
      //               if (result.error) {
      //                 this.$toast(result.error.message);
      //               } else if (
      //                       result.paymentIntent &&
      //                       result.paymentIntent.status === "succeeded"
      //               ) {
      //                 this.$toast("Recharge successful");
      //
      //                 this.updateUserInfo(this.curProduct.diamond);
      //               } else {
      //                 this.$toast("Recharge failed");
      //               }
      //             });
      //   } else {
      //     this.$toast(msg);
      //   }
      // }
      // },

    </script>

    <style>
      .purchaseButton {
        background-color: blueviolet;
        text-font: 38px;
        color: white;
        display: block;
        width: 80%;
        height: 80px;
        margin: 30px auto;
        font-size: 38px;
        font-weight: 600
      }
    </style>

  </head>
  <body>
    <div id="base" class="">

      <!-- Unnamed (Image) -->
      <div id="u0" class="ax_default image">
        <img id="u0_img" class="img " src="images/home/u0.jpg"/>
      </div>

      <!-- Unnamed (Image) -->
      <div id="u1" class="ax_default image">
        <img id="u1_img" class="img " src="images/home/u1.png" onclick="voucherClick(0)" />
      </div>

      <!-- Unnamed (Image) -->
      <div id="u2" class="ax_default image">
        <img id="u2_img" class="img " src="images/home/u2.png" onclick="voucherClick(1)" />
      </div>

      <!-- Unnamed (Image) -->
      <div id="u3" class="ax_default image">
        <img id="u3_img" class="img " src="images/home/u3.png" onclick="voucherClick(2)" />
      </div>

      <!-- Unnamed (Image) -->
      <div id="u4" class="ax_default image">
        <img id="u4_img" class="img " src="images/home/u4.png" onclick="voucherClick(3)" />
      </div>

      <!-- Unnamed (Image) -->
      <div id="u5" class="ax_default image">
        <img id="u5_img" class="img " src="images/home/u5.png" onclick="voucherClick(4)" />
      </div>
    </div>


    <div class="modal" id="myModal" style="background-color: black">
      <div class="modal-content">
        <p style="font-size: 40px; font-weight: bold; color: white; text-align: center">Congratulations!</p>
      </div>
      <div class="modal-content">
        <p id="detailP" style="font-size: 36px; font-weight: bold; color: white; text-align: center; margin-top: 30px"></p>
      </div>
      <div class="pay-button-wrapper" id="detailD">
      </div>
    </div>


  </body>
</html>
